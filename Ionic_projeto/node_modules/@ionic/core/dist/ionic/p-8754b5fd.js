import{b as o}from"./p-1074393c.js";let t=0;const n=o=>({create:t=>d(o,t),dismiss:(t,n,s)=>l(document,t,n,o,s),getTop:async()=>m(document,o)}),s=n("ion-alert"),a=n("ion-action-sheet"),e=n("ion-loading"),i=n("ion-modal"),r=n("ion-picker"),c=n("ion-popover"),u=n("ion-toast"),d=(o,n)=>customElements.whenDefined(o).then(()=>{const s=document,a=s.createElement(o);p(s),Object.assign(a,n),a.classList.add("overlay-hidden");const e=t++;return a.overlayIndex=e,a.hasAttribute("id")||(a.id=`ion-overlay-${e}`),v(s).appendChild(a),a.componentOnReady()}),p=o=>{0===t&&(t=1,o.addEventListener("focusin",t=>{const n=m(o);if(n&&n.backdropDismiss&&!j(n,t.target)){const o=n.querySelector("input,button");o&&o.focus()}}),o.addEventListener("ionBackButton",t=>{const n=m(o);n&&n.backdropDismiss&&t.detail.register(100,()=>n.dismiss(void 0,x))}),o.addEventListener("keyup",t=>{if("Escape"===t.key){const t=m(o);t&&t.backdropDismiss&&t.dismiss(void 0,x)}}))},l=(o,t,n,s,a)=>{const e=m(o,s,a);return e?e.dismiss(t,n):Promise.reject("overlay does not exist")},m=(o,t,n)=>{const s=((o,t)=>{const n=Array.from(v(o).children).filter(o=>o.overlayIndex>0);return void 0===t?n:(t=t.toUpperCase(),n.filter(o=>o.tagName===t))})(o,t);return void 0===n?s[s.length-1]:s.find(o=>o.id===n)},f=async(t,n,s,a,e)=>{if(t.presented)return;t.presented=!0,t.willPresent.emit();const i=t.enterAnimation?t.enterAnimation:o.get(n,"ios"===t.mode?s:a);await b(t,i,t.el,e)&&t.didPresent.emit()},y=async(t,n,s,a,e,i,r)=>{if(!t.presented)return!1;t.presented=!1;try{t.willDismiss.emit({data:n,role:s});const c=t.leaveAnimation?t.leaveAnimation:o.get(a,"ios"===t.mode?e:i);await b(t,c,t.el,r),t.didDismiss.emit({data:n,role:s})}catch(o){console.error(o)}return t.el.remove(),!0},v=o=>o.querySelector("ion-app")||o.body,b=async(t,n,s,a)=>{if(t.animation)return t.animation.destroy(),t.animation=void 0,!1;s.classList.remove("overlay-hidden");const e=s.shadowRoot||t.el,i=await __sc_import_ionic("./p-d9adb105.js").then(o=>o.create(n,e,a));t.animation=i,t.animated&&o.getBoolean("animated",!0)||i.duration(0),t.keyboardClose&&i.beforeAddWrite(()=>{const o=s.ownerDocument.activeElement;o&&o.matches("input, ion-input, ion-textarea")&&o.blur()}),await i.playAsync();const r=i.hasCompleted;return i.destroy(),t.animation=void 0,r},h=(o,t)=>{let n;const s=new Promise(o=>n=o);return w(o,t,o=>{n(o.detail)}),s},w=(o,t,n)=>{const s=a=>{o.removeEventListener(t,s),n(a)};o.addEventListener(t,s)},_=o=>"cancel"===o||o===x,j=(o,t)=>{for(;t;){if(t===o)return!0;t=t.parentElement}return!1},k=o=>o(),g=(t,n)=>{if("function"==typeof t)return o.get("_zoneGate",k)(()=>{try{return t(n)}catch(o){console.error(o)}})},x="backdrop";export{x as B,s as a,a as b,c,f as d,y as e,h as f,d as g,l as h,_ as i,m as j,e as l,i as m,r as p,g as s,u as t};